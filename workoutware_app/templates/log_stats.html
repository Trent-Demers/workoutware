{% load static %}
<!DOCTYPE html>
<html>
 <head>
  <link href="{% static 'stylesheets/workoutware.css' %}" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <title>
   Log Body Stats
  </title>
 </head>
 <body>
 <div class="container-wrapper">
  <h1 class="fade-in">
   <i class="fas fa-ruler-combined"></i> Log Body Stats
  </h1>
  <div class="nav-links fade-in">
   <a href="{% url 'home' %}">
    <i class="fas fa-arrow-left"></i> Back to Dashboard
   </a>
   <a href="{% url 'progress' %}">
    <i class="fas fa-chart-line"></i> View Progress
   </a>
  </div>
  <hr/>
  <h2 class="fade-in">
   <i class="fas fa-clipboard-list"></i> Log Today's Measurements
  </h2>
  <form action="{% url 'log_body_stats' %}" class="form-container fade-in" method="post">
   {% csrf_token %}
   <label for="date">
    <i class="far fa-calendar"></i> Date
   </label>
   <input id="date" name="date" required="" type="date" value="{{ today|date:'Y-m-d' }}"/>
   <label for="weight">
    <i class="fas fa-weight-scale"></i> Bodyweight (lbs)
   </label>
   <input id="weight" name="weight" required="" step="0.1" type="number"/>
   <label for="neck">
    <i class="fas fa-ruler"></i> Neck (inches)
   </label>
   <input id="neck" name="neck" placeholder="Optional" step="0.1" type="number"/>
   <label for="waist">
    <i class="fas fa-ruler-horizontal"></i> Waist (inches)
   </label>
   <input id="waist" name="waist" placeholder="Optional" step="0.1" type="number"/>
   <label for="hips">
    <i class="fas fa-ruler-vertical"></i> Hips (inches)
   </label>
   <input id="hips" name="hips" placeholder="Optional" step="0.1" type="number"/>
   <label for="body_fat">
    <i class="fas fa-percentage"></i> Body Fat %
   </label>
   <input id="body_fat" name="body_fat" placeholder="Optional" step="0.1" type="number"/>
   <label for="notes">
    <i class="fas fa-sticky-note"></i> Notes
   </label>
   <textarea id="notes" name="notes" rows="3" placeholder="How are you feeling today?"></textarea>
   <button type="submit">
    <i class="fas fa-save"></i> Log Stats
   </button>
  </form>
  {% if recent_stats %}
  <h2 class="fade-in">
   <i class="fas fa-history"></i> Recent Measurements
  </h2>
  <table class="fade-in">
   <thead>
    <tr>
     <th><i class="far fa-calendar"></i> Date</th>
     <th><i class="fas fa-weight-scale"></i> Weight</th>
     <th><i class="fas fa-ruler"></i> Neck</th>
     <th><i class="fas fa-ruler-horizontal"></i> Waist</th>
     <th><i class="fas fa-ruler-vertical"></i> Hips</th>
     <th><i class="fas fa-percentage"></i> Body Fat</th>
     <th><i class="fas fa-sticky-note"></i> Notes</th>
    </tr>
   </thead>
   <tbody>
    {% for stat in recent_stats %}
    <tr>
     <td>{{ stat.date|date:"M d, Y" }}</td>
     <td>{% if stat.weight %}{{ stat.weight }} lbs{% else %}--{% endif %}</td>
     <td>{% if stat.neck %}{{ stat.neck }}"{% else %}--{% endif %}</td>
     <td>{% if stat.waist %}{{ stat.waist }}"{% else %}--{% endif %}</td>
     <td>{% if stat.hips %}{{ stat.hips }}"{% else %}--{% endif %}</td>
     <td>{% if stat.body_fat_percentage %}{{ stat.body_fat_percentage }}%{% else %}--{% endif %}</td>
     <td>{{ log.notes|default:"--" }}</td>
    </tr>
    {% endfor %}
   </tbody>
  </table>
  {% else %}
  <div class="empty-state fade-in">
   <i class="fas fa-ruler-combined"></i>
   <p>No body stats logged yet. Start tracking above!</p>
  </div>
  {% endif %}
  </div>
</body>
</html>
